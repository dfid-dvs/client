(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{CSiI:function(e,t,a){"use strict";a.r(t);var l=a("LYCE"),n=a.n(l),r=a("HnXd"),o=a.n(r),c=a("qjzJ"),i=a.n(c),u=a("RXMP"),s=a.n(u),m=a("fHi0"),p=a.n(m),d=a("OWCx"),f=a.n(d),v=a("+oHS"),b=a.n(v),y=a("o+MX"),h=a.n(y),_=a("M5Mt"),g=a.n(_),E=a("TEMH"),O=a.n(E),j=a("04Ix"),N=a.n(j),k=a("xS4f"),C=a.n(k),M=a("5PDf"),S=a.n(M),w=a("/FZm"),P=a.n(w),L=a("Vi3r"),x=a.n(L),T=a("FLGM"),I=a.n(T),F=a("zLi2"),K=a.n(F),B=a("q1tI"),A=a.n(B),H=a("IdFE"),D=a("FRrY"),W=a("aOWp"),R=a("hhMa"),G=a("7FA3"),X=a("8Gbs"),q=a("5hmJ"),U=a("86SW"),J=a("1SQ9"),z=a("B3q3"),V=a("1LC5"),Q=a("RYRU"),Z=a("2M4T"),Y=a("Ah6B"),$=a("z+oB"),ee=a("nW0M"),te=a("5T1E");var ae=function(e,t){var a=e?"https://covidapi.naxa.com.np/api/v1/age-data/":void 0,l=Object(ee.a)(a),n=K()(l,2),r=n[0],o=n[1];return[r,Object(B.useMemo)((function(){if(!o)return[];var e=S()(o).call(o,(function(e){return 38!==e.munid}));switch(t){case"province":var a,l=Object(D.m)(e,(function(e){return e.provinceId}));return I()(a=b()(l)).call(a,(function(e){var t,a,n,r;return{code:+e,belowFourteen:Object(D.p)(I()(t=l[e]).call(t,(function(e){return e.l0_14}))),fifteenToFourtyNine:Object(D.p)(I()(a=l[e]).call(a,(function(e){return e.l15_49}))),aboveFifty:Object(D.p)(I()(n=l[e]).call(n,(function(e){return e.l50plus}))),total:Object(D.p)(I()(r=l[e]).call(r,(function(e){return e.ltotal})))}}));case"district":var n,r=Object(D.m)(e,(function(e){return e.districtId}));return I()(n=b()(r)).call(n,(function(e){var t,a,l,n;return{code:+e,belowFourteen:Object(D.p)(I()(t=r[e]).call(t,(function(e){return e.l0_14}))),fifteenToFourtyNine:Object(D.p)(I()(a=r[e]).call(a,(function(e){return e.l15_49}))),aboveFifty:Object(D.p)(I()(l=r[e]).call(l,(function(e){return e.l50plus}))),total:Object(D.p)(I()(n=r[e]).call(n,(function(e){return e.ltotal})))}}));case"municipality":return I()(e).call(e,(function(e){return{code:e.munid,belowFourteen:e.l0_14,fifteenToFourtyNine:e.l15_49,aboveFifty:e.l50plus,total:e.ltotal}}));default:return[]}}),[o,t])]};var le=function(e,t,a){var l=Object(te.a)(e,t),n=K()(l,2),r=n[0],o=n[1],c=ae(-1===t,e),i=K()(c,2),u=i[0],s=i[1],m=[];return Object(D.h)(t)&&-1===t&&a?m=I()(s).call(s,(function(e){return{id:e.code,value:e[a]}})):o&&(m=o),[r||u,m]},ne=a("i5y0"),re=a.n(ne),oe=a("cdeZ"),ce=a.n(oe),ie=a("lhOE");function ue(e,t){var a=b()(e);if(f.a){var l=f()(e);t&&(l=S()(l).call(l,(function(t){return p()(e,t).enumerable}))),a.push.apply(a,l)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a,l=null!=arguments[t]?arguments[t]:{};if(t%2)s()(a=ue(Object(l),!0)).call(a,(function(t){N()(e,t,l[t])}));else if(i.a)o()(e,i()(l));else{var r;s()(r=ue(Object(l))).call(r,(function(t){n()(e,t,p()(l,t))}))}}return e}var me=function(e,t){var a,l,n,r;Object(D.h)(t)&&(a="".concat(ie.a,"/covid/covid-specific-program/"),r="".concat(ie.a,"/core/municipality/"),n="".concat(ie.a,"/core/district/"),l="".concat(ie.a,"/core/province/"));var o=Object(ee.a)(l),c=K()(o,2),i=c[0],u=c[1],s=Object(ee.a)(n),m=K()(s,2),p=m[0],d=m[1],f=Object(ee.a)(r),v=K()(f,2),b=v[0],y=v[1],_=Object(ee.a)(a),g=K()(_,2),E=g[0],O=g[1];return[E||i||p||b,Object(B.useMemo)((function(){var a,l,n,r,o,c,i,s,m,p,f,v;if(!(O&&t&&u&&d&&y))return[];var b=[],_=ce()(a=I()(l=S()(n=O.results).call(n,(function(e){return"-1"===e.provinceCode}))).call(l,(function(e){var t;return I()(t=u.results).call(t,(function(t){return se({},e,{provinceCode:t.code,districtCode:"-1",municipalityCode:"-1"})}))}))).call(a);b=h()(r=[]).call(r,x()(_),x()(S()(o=O.results).call(o,(function(e){return"-1"!==e.provinceCode}))));var g=ce()(c=I()(i=S()(b).call(b,(function(e){return"-1"===e.districtCode}))).call(i,(function(e){var t,a=S()(t=d.results).call(t,(function(t){var a,l,n=null===(a=P()(l=u.results).call(l,(function(t){return t.code===e.provinceCode})))||void 0===a?void 0:a.id;return t.provinceId===n}));return I()(a).call(a,(function(t){return se({},e,{districtCode:t.code,municipalityCode:"-1"})}))}))).call(c);b=h()(s=[]).call(s,x()(g),x()(S()(b).call(b,(function(e){return"-1"!==e.districtCode}))));var E=ce()(m=I()(p=S()(b).call(b,(function(e){return"-1"===e.municipalityCode}))).call(p,(function(e){var t,a=S()(t=y.results).call(t,(function(t){var a,l,n=null===(a=P()(l=d.results).call(l,(function(t){return t.code===e.districtCode})))||void 0===a?void 0:a.id;return t.districtId===n}));return I()(a).call(a,(function(t){return se({},e,{municipalityCode:String(t.code)})}))}))).call(m);b=h()(f=[]).call(f,x()(E),x()(S()(b).call(b,(function(e){return"-1"!==e.municipalityCode}))));var j="provinceCode";switch(e){case"province":j="provinceCode";break;case"district":j="districtCode";break;case"municipality":j="municipalityCode"}var N=Object(D.m)(b,(function(e){return e[j]}));return I()(v=re()(N)).call(v,(function(e){var a=K()(e,2),l=a[0],n=a[1],r=Object(D.q)(I()(n).call(n,(function(e){return e[t]})));return{id:+l,value:(null==r?void 0:r.length)||0,data:n}}))}),[O,t,e,u,d,y])]},pe=a("SLhE"),de=a("WFMo"),fe=a("wqu8"),ve=a("whYZ"),be=a("lzBR"),ye=a("nE78"),he=a.n(ye);var _e=function(e){var t=e.date,a=e.label,l=e.dateClassName,n=e.labelClassName,r=e.className,o=a||"Last updated on",c=Object(B.useMemo)((function(){return t?new Date(t).toDateString():""}),[t]);return t?A.a.createElement("div",{className:Object(D.b)(r,he.a.lastUpdatedContainer)},A.a.createElement("h3",{className:Object(D.b)(n,he.a.label)},o),A.a.createElement("div",{className:Object(D.b)(he.a.date,l)},c)):null},ge=a("l1IR"),Ee=a.n(ge),Oe=function(e){var t=e.label,a=e.value;return A.a.createElement("div",{className:Ee.a.statOutput},A.a.createElement("div",{className:Ee.a.value},A.a.createElement(be.a,{value:a,precision:0,separatorShown:!0})),A.a.createElement("div",{className:Ee.a.label},t))},je=function(e){var t=e.link,a=e.label;return A.a.createElement("a",{href:t,className:Ee.a.externalLink,target:"_blank",rel:"noopener noreferrer"},A.a.createElement(de.a,{className:Ee.a.icon}),A.a.createElement("div",{className:Ee.a.label},a))};var Ne=function(e){var t,a=e.className,l=Object(ee.a)("https://nepalcorona.info/api/v1/data/nepal"),n=K()(l,2),r=n[0],o=n[1];return A.a.createElement("div",{className:Object(D.b)(a,Ee.a.stats)},A.a.createElement("h4",{className:Ee.a.heading},"COVID-19 Summary",A.a.createElement(_e,{date:null==o?void 0:o.updated_at})),r&&A.a.createElement(fe.a,null,A.a.createElement(ve.a,null)),A.a.createElement("div",{className:Ee.a.content},A.a.createElement(Oe,{label:"Tests performed",value:null==o?void 0:o.tested_total}),A.a.createElement(Oe,{label:"Tested positive",value:null==o?void 0:o.tested_positive}),A.a.createElement(Oe,{label:"Tested negative",value:null==o?void 0:o.tested_negative}),A.a.createElement(Oe,{label:"In isolation",value:null==o?void 0:o.in_isolation}),A.a.createElement(Oe,{label:"Deaths",value:null==o?void 0:o.deaths})),A.a.createElement("div",{className:Ee.a.footer},A.a.createElement(je,{link:null==o?void 0:o.source,label:"Source"}),A.a.createElement(je,{link:null==o||null===(t=o.latest_sit_report)||void 0===t?void 0:t.url,label:"Latest situation report"})))},ke=a("4XXU"),Ce=a("9gBc"),Me=a("DWab"),Se=a("qTMX"),we=a.n(Se);var Pe=function(e){var t=e.label,a=e.value;return A.a.createElement("div",{className:we.a.textOutput},A.a.createElement("div",{className:we.a.label},t),Object(D.h)(a)?A.a.createElement("div",{className:we.a.value},a):A.a.createElement("div",{className:we.a.nullValue},"N/A"))},Le={visibility:"visible"},xe={visibility:"none"},Te={catchment:{twelvehour:{fillPaint:{"fill-color":"red","fill-opacity":.3},linePaint:{"line-width":2,"line-color":"darkred","line-opacity":["case",["==",["feature-state","hovered"],!0],1,0]}},eighthour:{fillPaint:{"fill-color":"gold","fill-opacity":.3},linePaint:{"line-width":2,"line-color":"darkorange","line-opacity":["case",["==",["feature-state","hovered"],!0],1,0]}},fourhour:{fillPaint:{"fill-color":"green","fill-opacity":.3},linePaint:{"line-width":2,"line-color":"darkgreen","line-opacity":["case",["==",["feature-state","hovered"],!0],1,0]}}},uncovered:{twelvehour:{fillPaint:{"fill-color":"red","fill-opacity":.3},linePaint:{"line-width":2,"line-color":"darkred","line-opacity":["case",["==",["feature-state","hovered"],!0],1,0]}},eighthour:{fillPaint:{"fill-color":"gold","fill-opacity":.3},linePaint:{"line-width":2,"line-color":"darkorange","line-opacity":["case",["==",["feature-state","hovered"],!0],1,0]}},fourhour:{fillPaint:{"fill-color":"green","fill-opacity":.3},linePaint:{"line-width":2,"line-color":"darkgreen","line-opacity":["case",["==",["feature-state","hovered"],!0],1,0]}}},hospital:{circlePaint:function(e){return{"circle-radius":9,"circle-color":"#fff","circle-stroke-color":"#a72828","circle-stroke-width":["case",["in",["get","name"],["literal",e]],2,0],"circle-opacity":["case",["in",["get","name"],["literal",e]],.9,.7]}},symbolPaint:{"icon-color":"#a72828"},symbolLayout:{"icon-image":"hospital-15","icon-allow-overlap":!0}}};function Ie(e){var t=Object(D.p)([e.m_5,e.m_10,e.m_15,e.m_20,e.m_25,e.m_30,e.m_35,e.m_40,e.m_45,e.m_50,e.m_55,e.m_60,e.m_65,e.m_70,e.m_75,e.m_80]);return Math.round(t)}function Fe(e){var t=Object(D.p)([e.f_5,e.f_10,e.f_15,e.f_20,e.f_25,e.f_30,e.f_35,e.f_40,e.f_45,e.f_50,e.f_55,e.f_60,e.f_65,e.f_70,e.f_75,e.f_80]);return Math.round(t)}function Ke(e){return Ie(e)+Fe(e)}var Be={closeOnClick:!1,closeButton:!1,offset:8,maxWidth:"480px"};function Ae(e){var t=e.lngLat,a=e.feature.properties,l=a.name,n=a.category__name,r=a.type__name,o=a.contact_num;return A.a.createElement(W.a,{coordinates:t,tooltipOptions:Be,trackPointer:!0},A.a.createElement(A.a.Fragment,null,A.a.createElement("h3",null,l),A.a.createElement(Pe,{label:"Category",value:n}),A.a.createElement(Pe,{label:"Type",value:r}),A.a.createElement(Pe,{label:"Contact",value:o})))}function He(e){var t=e.lngLat,a=e.feature.properties,l="",n="";a.name?(l=a.name,n="Total Population"):(l=a.GAPA_NAPA,n="Uncovered Population");var r=Object(B.useMemo)((function(){return[{name:"80",male:a.m_80,female:-a.f_80},{name:"75",male:a.m_75,female:-a.f_75},{name:"70",male:a.m_70,female:-a.f_70},{name:"65",male:a.m_65,female:-a.f_65},{name:"60",male:a.m_60,female:-a.f_60},{name:"55",male:a.m_55,female:-a.f_55},{name:"50",male:a.m_50,female:-a.f_50},{name:"45",male:a.m_45,female:-a.f_45},{name:"40",male:a.m_40,female:-a.f_40},{name:"35",male:a.m_35,female:-a.f_35},{name:"30",male:a.m_30,female:-a.f_30},{name:"25",male:a.m_25,female:-a.f_25},{name:"20",male:a.m_20,female:-a.f_20},{name:"15",male:a.m_15,female:-a.f_15},{name:"10",male:a.m_10,female:-a.f_10},{name:"5",male:a.m_5,female:-a.f_5}]}),[a]),o=Object(B.useCallback)((function(e){var t=Math.abs(e);return Object(be.b)(t,!0,!0)}),[]);return A.a.createElement(W.a,{coordinates:t,tooltipOptions:Be,trackPointer:!0},A.a.createElement(A.a.Fragment,null,A.a.createElement("h3",null,l),A.a.createElement(Pe,{label:n,value:A.a.createElement(be.a,{value:Ke(a),precision:0})}),A.a.createElement(Pe,{label:"Female",value:A.a.createElement(be.a,{value:Fe(a),precision:0})}),A.a.createElement(Pe,{label:"Male",value:A.a.createElement(be.a,{value:Ie(a),precision:0})}),A.a.createElement("h4",null,"Age distribution"),A.a.createElement(ke.b,{width:300,height:200,data:r,margin:{top:0,right:0,left:0,bottom:0},stackOffset:"sign",layout:"vertical"},A.a.createElement(ke.c,{strokeDasharray:"3 3"}),A.a.createElement(ke.g,{dataKey:"name",type:"category",width:30}),A.a.createElement(ke.f,{type:"number",tickFormatter:o}),A.a.createElement(ke.e,null),A.a.createElement(ke.d,null),A.a.createElement(ke.a,{dataKey:"male",stackId:"total",fill:"#02a3fe"}),A.a.createElement(ke.a,{dataKey:"female",stackId:"total",fill:"#ec49a6"}))))}var De=function(e){var t=e.selectedHospitals,a=e.onHospitalClick,l=e.travelTimeShown,n=e.prefix,r=e.hospitalType,o=e.season,c=e.travelTimeType,i=A.a.useState(),u=K()(i,2),s=u[0],m=u[1],p=Object(B.useCallback)((function(e,t){return m({lngLat:t,feature:e}),!0}),[]),d=Object(B.useCallback)((function(){m(void 0)}),[]),f=A.a.useState(),v=K()(f,2),b=v[0],y=v[1],h=Object(B.useCallback)((function(e,t){return y({lngLat:t,feature:e}),!0}),[]),_=Object(B.useCallback)((function(){y(void 0)}),[]),g="deshosp"===r?"coviddesignatedhospitalsgeo":"covidhospitalsgeo",E=("deshosp"===r&&"dry"===o?"mapbox://togglecorp.265cfnxb":"deshosp"===r&&"msn"===o&&"mapbox://togglecorp.1blomcjm")||"allcovidhfs"===r&&"dry"===o&&"mapbox://togglecorp.0s4o7p46"||"allcovidhfs"===r&&"msn"===o&&"mapbox://togglecorp.b26l1lz5"||void 0,O=("deshosp"===r&&"dry"===o?"mapbox://togglecorp.8z1qrkb2":"deshosp"===r&&"msn"===o&&"mapbox://togglecorp.ccbtdr4y")||"allcovidhfs"===r&&"dry"===o&&"mapbox://togglecorp.8qpnv16e"||"allcovidhfs"===r&&"msn"===o&&"mapbox://togglecorp.3ceodz8w"||void 0,j=t.length<=0?void 0:["in",["get","name"],["literal",t]],N=["!=",["get","GAPA_NAPA"],"Koshi Tappu Wildlife Reserve"],k=l&&"uncovered"===c?Le:xe,C=l&&"catchment"===c?Le:xe;return A.a.createElement(A.a.Fragment,null,O&&A.a.createElement(Ce.a,{sourceKey:"".concat(n,"-uncovered"),sourceOptions:{type:"vector",url:O}},A.a.createElement(Me.a,{layerKey:"fourhour-fill",layerOptions:{type:"fill","source-layer":"fourhourgeo",paint:Te.uncovered.fourhour.fillPaint,layout:k,filter:N},onMouseEnter:h,onMouseLeave:_}),A.a.createElement(Me.a,{layerKey:"eighthour-fill",layerOptions:{type:"fill","source-layer":"eighthourgeo",paint:Te.uncovered.eighthour.fillPaint,layout:k,filter:N},onMouseEnter:h,onMouseLeave:_}),A.a.createElement(Me.a,{layerKey:"twelvehour-fill",layerOptions:{type:"fill","source-layer":"twelvehourgeo",paint:Te.uncovered.twelvehour.fillPaint,layout:k,filter:N},onMouseEnter:h,onMouseLeave:_}),A.a.createElement(Me.a,{layerKey:"fourhour-line",layerOptions:{type:"line","source-layer":"fourhourgeo",paint:Te.uncovered.fourhour.linePaint,layout:k,filter:N}}),A.a.createElement(Me.a,{layerKey:"eighthour-line",layerOptions:{type:"line","source-layer":"eighthourgeo",paint:Te.uncovered.eighthour.linePaint,layout:k,filter:N}}),A.a.createElement(Me.a,{layerKey:"twelvehour-line",layerOptions:{type:"line","source-layer":"twelvehourgeo",paint:Te.uncovered.twelvehour.linePaint,layout:k,filter:N}})),E&&A.a.createElement(Ce.a,{sourceKey:"".concat(n,"-catchment"),sourceOptions:{type:"vector",url:E}},A.a.createElement(Me.a,{layerKey:"twelvehour-fill",layerOptions:{type:"fill","source-layer":"twelvehourgeo",paint:Te.catchment.twelvehour.fillPaint,filter:j,layout:C},onMouseEnter:h,onMouseLeave:_}),A.a.createElement(Me.a,{layerKey:"eighthour-fill",layerOptions:{type:"fill","source-layer":"eighthourgeo",paint:Te.catchment.eighthour.fillPaint,filter:j,layout:C},onMouseEnter:h,onMouseLeave:_}),A.a.createElement(Me.a,{layerKey:"fourhour-fill",layerOptions:{type:"fill","source-layer":"fourhourgeo",paint:Te.catchment.fourhour.fillPaint,filter:j,layout:C},onMouseEnter:h,onMouseLeave:_}),A.a.createElement(Me.a,{layerKey:"twelvehour-line",layerOptions:{type:"line","source-layer":"twelvehourgeo",paint:Te.catchment.twelvehour.linePaint,filter:j,layout:C}}),A.a.createElement(Me.a,{layerKey:"eighthour-line",layerOptions:{type:"line","source-layer":"eighthourgeo",paint:Te.catchment.eighthour.linePaint,filter:j,layout:C}}),A.a.createElement(Me.a,{layerKey:"fourhour-line",layerOptions:{type:"line","source-layer":"fourhourgeo",paint:Te.catchment.fourhour.linePaint,filter:j,layout:C}})),A.a.createElement(Ce.a,{sourceKey:"".concat(n,"-hospitals"),sourceOptions:{type:"vector",url:"mapbox://togglecorp.7sfpl5br"}},A.a.createElement(Me.a,{layerKey:"hospital-circle",layerOptions:{type:"circle","source-layer":g,paint:Te.hospital.circlePaint(t)},onMouseEnter:p,onMouseLeave:d,onClick:a}),A.a.createElement(Me.a,{layerKey:"hospital-symbol",layerOptions:{type:"symbol","source-layer":g,paint:Te.hospital.symbolPaint,layout:Te.hospital.symbolLayout}}),s&&A.a.createElement(Ae,{lngLat:s.lngLat,feature:s.feature}),b&&A.a.createElement(He,{lngLat:b.lngLat,feature:b.feature})))},We=a("/88p"),Re=a("tzh7"),Ge=a.n(Re),Xe=function(e){return e.component},qe=function(e,t,a){return{value:t,index:a+1}},Ue=function(e){var t=e.index,a=e.value;return A.a.createElement("div",{className:Ge.a.listItem},A.a.createElement("div",{className:Ge.a.count},"".concat(t,".")),A.a.createElement("div",{className:Ge.a.label},A.a.createElement("div",null,a.component),A.a.createElement(Pe,{label:"Allocated Budget",value:A.a.createElement(be.a,{value:a.budget,prefix:"Â£"})}),A.a.createElement(Pe,{label:"Sector",value:a.sector}),A.a.createElement(Pe,{label:"Partner",value:a.secondTierPartner})))},Je=function(e){return e.sector},ze=function(e,t,a){return{value:t.sector,index:a+1}},Ve=function(e){var t=e.value,a=e.index;return A.a.createElement("div",{className:Ge.a.listItem},A.a.createElement("div",{className:Ge.a.count},"".concat(a,".")),A.a.createElement("div",{className:Ge.a.label},t))},Qe=function(e){var t=e.feature,a=e.dfidData,l=e.indicatorData,n=Object(D.q)(a,(function(e){return e.component})),r=Object(D.q)(a,(function(e){return e.sector}));return A.a.createElement("div",{className:Ge.a.tooltip},A.a.createElement("h3",null,t.properties.name),l&&l.label&&A.a.createElement(Pe,{label:l.label,value:A.a.createElement(be.a,{value:l.value,normalize:!0})}),r&&A.a.createElement(Pe,{label:"No of sectors",value:A.a.createElement(be.a,{value:r.length})}),n&&A.a.createElement(Pe,{label:"No of components",value:A.a.createElement(be.a,{value:n.length})}),A.a.createElement("div",{className:Ge.a.content},r&&r.length>0&&A.a.createElement("div",{className:Ge.a.sectors},A.a.createElement("h4",null,"Sectors"),A.a.createElement(We.a,{data:r,keySelector:Je,rendererParams:ze,renderer:Ve})),n&&n.length>0&&A.a.createElement("div",{className:Ge.a.components},A.a.createElement("h4",null,"Components"),A.a.createElement(We.a,{data:n,keySelector:Xe,rendererParams:qe,renderer:Ue}))))},Ze=a("pPhP"),Ye=a.n(Ze);function $e(e,t){var a=b()(e);if(f.a){var l=f()(e);t&&(l=S()(l).call(l,(function(t){return p()(e,t).enumerable}))),a.push.apply(a,l)}return a}var et=function(e){return e.radius},tt=function(e){return e.value},at=function(e){return e.radius},lt=A.a.createElement("span",null,"These maps show the catchment areas of COVID hospitals in Nepal based on one-way travel time cutoffs of 4 / 8 / 12 hours using the fastest possible means of transport, which roughly correspond to 1 / 2 / 3 day round trips. The uncovered layers show the inverse of these catchments. Population from",A.a.createElement("a",{className:Ye.a.link,href:"https://www.worldpop.org/project/categories?id=3",target:"_blank",rel:"noopener noreferrer"},"WorldPop 2020 projections."),A.a.createElement("a",{className:Ye.a.link,href:"http://documents.worldbank.org/curated/en/605991565195559324/Measuring-Inequality-of-Access-Modeling-Physical-Remoteness-in-Nepal",target:"_blank",rel:"noopener noreferrer"},"Travel time models from Banick and Kawasoe (2019)")),nt=[{key:"component",label:"No. of components",datatype:"integer"},{key:"sector",label:"No. of sectors",datatype:"integer"}],rt=function(e){return e.key},ot=function(e){return e.label},ct=function(e){return e.id},it=function(e){return e.fullTitle},ut=function(e){return e.category},st=[{key:"belowFourteen",label:"Below 14",tooltipLabel:"Number of People Aged Below 14"},{key:"fifteenToFourtyNine",label:"15 to 49",tooltipLabel:"Number of Peple Aged From 15 to 49"},{key:"aboveFifty",label:"Above 50",tooltipLabel:"Number of People Aged Above 50"}],mt=function(e){return e.key},pt=function(e){return e.label},dt=[{key:"deshosp",label:"Covid Designated"},{key:"allcovidhfs",label:"All"}],ft=function(e){return e.key},vt=function(e){return e.label},bt=[{key:"dry",label:"Dry"},{key:"msn",label:"Monsoon"}],yt=function(e){return e.key},ht=function(e){return e.label},_t=[{key:"catchment",label:"Catchment"},{key:"uncovered",label:"Uncovered"}],gt=function(e){return e.key},Et=function(e){return e.label},Ot=function(e){return e.id},jt=function(e){return e.name},Nt={closeOnClick:!0,closeButton:!1,offset:8,maxWidth:"480px"};t.default=function(e){var t,a,l,r,c=e.className,u=Object(B.useContext)(X.a).regionLevel,m=Object(B.useState)("component"),d=K()(m,2),f=d[0],v=d[1],y=Object(B.useState)(),_=K()(y,2),E=_[0],j=_[1],k=Object(B.useState)("belowFourteen"),M=K()(k,2),w=M[0],L=M[1],T=Object(B.useState)(!0),F=K()(T,2),te=F[0],ae=F[1],ne=Object(B.useState)(!1),re=K()(ne,2),oe=re[0],ce=re[1],ue=Object(B.useState)([]),se=K()(ue,2),de=se[0],fe=se[1],ve=Object(B.useState)("dry"),be=K()(ve,2),ye=be[0],he=be[1],_e=Object(B.useState)("catchment"),ge=K()(_e,2),Ee=ge[0],Oe=ge[1],je=Object(B.useState)("deshosp"),ke=K()(je,2),Ce=ke[0],Me=ke[1],Se=Object(B.useState)(void 0),we=K()(Se,2),Pe=we[0],Le=we[1],xe="".concat(ie.a,"/core/indicator-list/?is_covid=1"),Te=Object(ee.a)(xe),Ie=K()(Te,2),Fe=Ie[0],Ke=Ie[1],Be="".concat(ie.a,"/core/map-layer/"),Ae=Object(ee.a)(Be),He=K()(Ae,2),We=He[0],Re=He[1],Ge=le(u,E,w),Xe=K()(Ge,2),qe=(Xe[0],Xe[1]),Ue=me(u,f),Je=K()(Ue,2),ze=(Je[0],Je[1]),Ve=Object(B.useMemo)((function(){return I()(ze).call(ze,(function(e){return{id:e.id,value:e.value}}))}),[ze]),Ze=Object(B.useState)(!1),kt=K()(Ze,2),Ct=kt[0],Mt=kt[1],St=A.a.useState(),wt=K()(St,2),Pt=wt[0],Lt=wt[1],xt=Object(B.useMemo)((function(){if(null==Ke?void 0:Ke.results){var e=x()(null==Ke?void 0:Ke.results);return e.push({id:-1,fullTitle:"Age group",abstract:void 0,category:"Demographics"}),e}}),[Ke]),Tt=Object(B.useMemo)((function(){var e,t=null==xt?void 0:P()(xt).call(xt,(function(e){return ct(e)===E})),a=t&&it(t),l=P()(nt).call(nt,(function(e){return rt(e)===f})),n=l&&ot(l),r=S()(e=[n,a]).call(e,D.h).join(" & ");return Ct?{choroplethMapState:qe,choroplethTitle:a,choroplethInteger:"integer"===(null==t?void 0:t.datatype),choroplethUnit:null==t?void 0:t.unit,bubbleMapState:Ve,bubbleTitle:n,bubbleInteger:"integer"===(null==l?void 0:l.datatype),bubbleUnit:null==l?void 0:l.unit,titleForPrintBar:r}:{choroplethMapState:Ve,choroplethTitle:n,choroplethInteger:"integer"===(null==l?void 0:l.datatype),choroplethUnit:null==l?void 0:l.unit,bubbleMapState:qe,bubbleTitle:a,bubbleInteger:"integer"===(null==t?void 0:t.datatype),bubbleUnit:null==t?void 0:t.unit,titleForPrintBar:r}}),[Ct,qe,Ve,E,f,xt]),It=Tt.choroplethMapState,Ft=Tt.choroplethTitle,Kt=Tt.choroplethInteger,Bt=Tt.choroplethUnit,At=Tt.bubbleMapState,Ht=Tt.bubbleTitle,Dt=Tt.bubbleInteger,Wt=Tt.bubbleUnit,Rt=Tt.titleForPrintBar,Gt=Object(B.useMemo)((function(){if(Object(D.h)(E)){if(-1===E&&w){var e,t=P()(st).call(st,(function(e){return e.key===w}));return{label:t&&function(e){return e.tooltipLabel}(t),value:null===(e=P()(qe).call(qe,(function(e){return e.id===(null==Pt?void 0:Pt.feature.id)})))||void 0===e?void 0:e.value}}var a,l=null==xt?void 0:P()(xt).call(xt,(function(e){return ct(e)===E}));if(l)return{label:it(l),value:null===(a=P()(qe).call(qe,(function(e){return e.id===(null==Pt?void 0:Pt.feature.id)})))||void 0===a?void 0:a.value}}}),[E,Pt,xt,qe,w]),Xt=Object(B.useMemo)((function(){var e=I()(It).call(It,(function(e){return e.value})),t=Math.min.apply(Math,x()(e)),a=Math.max.apply(Math,x()(e));return Object(pe.b)(ie.b,t,a,Kt)}),[It,Kt]),qt=Xt.paint,Ut=Xt.legend,Jt=Xt.min,zt=Object(B.useMemo)((function(){var e,t,a=I()(e=S()(t=I()(At).call(At,(function(e){return e.value}))).call(t,D.h)).call(e,Math.abs),l=C()(At).call(At,(function(e){return e.value<0})),r=C()(At).call(At,(function(e){return e.value>0})),c="both";l&&!r?c="negative":!l&&r&&(c="positive");var m=Math.min.apply(Math,x()(a)),d=Math.max.apply(Math,x()(a)),f=50;return"district"===u?f=40:"municipality"===u&&(f=30),function(e){for(var t=1;t<arguments.length;t++){var a,l=null!=arguments[t]?arguments[t]:{};if(t%2)s()(a=$e(Object(l),!0)).call(a,(function(t){N()(e,t,l[t])}));else if(i.a)o()(e,i()(l));else{var r;s()(r=$e(Object(l))).call(r,(function(t){n()(e,t,p()(l,t))}))}}return e}({legendType:c},Object(pe.a)(m,d,f,Dt))}),[At,Dt,u]),Vt=zt.mapPaint,Qt=zt.legend,Zt=zt.legendType,Yt=Object(B.useMemo)((function(){if(E)return null==xt?void 0:P()(xt).call(xt,(function(e){return e.id===E}))}),[E,xt]),$t=function(e){e&&fe((function(t){var a,l=O()(t).call(t,(function(t){return t===e}));if(-1!==l){var n=x()(t);return g()(n).call(n,l,1),n}return h()(a=[]).call(a,x()(t),[e])}))},ea=A.a.useCallback((function(){Lt(void 0)}),[Lt]),ta=A.a.useCallback((function(e,t){return Lt({feature:e,lngLat:t}),!0}),[Lt]);Object(B.useEffect)((function(){fe([])}),[Ce]);var aa=te&&oe,la=Object(B.useMemo)((function(){var e;return null==Re?void 0:S()(e=Re.results).call(e,(function(e){return"raster"===e.type}))}),[Re]),na=Object(B.useMemo)((function(){return null==la?void 0:P()(la).call(la,(function(e){return e.id===Pe}))}),[la,Pe]),ra=Object(B.useState)(!1),oa=K()(ra,2),ca=oa[0],ia=oa[1],ua=Object(B.useState)(!1),sa=K()(ua,2),ma=sa[0],pa=sa[1],da=Qt.length>0||b()(Ut).length>0||aa||na,fa=Object(B.useCallback)((function(){pa(!ma)}),[pa,ma]),va=Object(B.useMemo)((function(){var e;return null===(e=P()(ze).call(ze,(function(e){return e.id===(null==Pt?void 0:Pt.feature.id)})))||void 0===e?void 0:e.data}),[ze,Pt]);return A.a.createElement("div",{className:Object(D.b)(Ye.a.covid19,c,ca&&Ye.a.printMode)},A.a.createElement(Z.a,{className:Ye.a.printModeButton,printMode:ca,onPrintModeChange:ia}),A.a.createElement(Q.a,{className:Ye.a.mapContainer,regionLevel:u,choroplethMapState:It,choroplethMapPaint:qt,bubbleMapState:At,bubbleMapPaint:Vt,rasterLayer:na,printMode:ca,onClick:ta,hideTooltipOnHover:!0},Pt&&A.a.createElement(W.a,{coordinates:Pt.lngLat,tooltipOptions:Nt,onHide:ea},A.a.createElement(Qe,{feature:Pt.feature,dfidData:va,indicatorData:Gt})),te&&A.a.createElement(De,{key:h()(t="".concat(ye,"-")).call(t,Ce),prefix:h()(a="".concat(ye,"-")).call(a,Ce),season:ye,hospitalType:Ce,onHospitalClick:function(e){var t=e.properties.name;return $t(t),!0},selectedHospitals:de,travelTimeShown:oe,travelTimeType:Ee})),A.a.createElement(Ne,{className:Ye.a.stats}),A.a.createElement("div",{className:Ye.a.mapStyleConfigContainer},A.a.createElement(R.a,{searchHidden:!0}),A.a.createElement("div",{className:Ye.a.separator}),A.a.createElement("div",{className:Ye.a.health},A.a.createElement(J.a,{className:Ye.a.inputItem,label:"Show health facilities",value:te,onChange:ae}),te&&A.a.createElement(A.a.Fragment,null,A.a.createElement(G.a,{label:"Hospitals",className:Ye.a.inputItem,options:dt,onChange:Me,value:Ce,optionLabelSelector:vt,optionKeySelector:ft}),de.length>0&&A.a.createElement("div",{className:Ye.a.hospitals},I()(de).call(de,(function(e){return A.a.createElement(z.a,{className:Ye.a.button,key:e,name:e,onClick:$t,icons:A.a.createElement(H.a,null)},e)}))),A.a.createElement("div",{className:Ye.a.travelTimeInputContainer},A.a.createElement(J.a,{label:"Show travel time",value:oe,onChange:ce}),oe&&A.a.createElement(z.a,{onClick:fa,transparent:!0,icons:A.a.createElement(H.b,null)})),oe&&A.a.createElement(A.a.Fragment,null,A.a.createElement(G.a,{label:"Type",className:Ye.a.inputItem,options:_t,onChange:Oe,value:Ee,optionLabelSelector:Et,optionKeySelector:gt}),A.a.createElement(G.a,{label:"Season",className:Ye.a.inputItem,options:bt,onChange:he,value:ye,optionLabelSelector:ht,optionKeySelector:yt}),ma&&A.a.createElement("div",{className:Ye.a.abstract},lt)))),A.a.createElement("div",{className:Ye.a.separator}),A.a.createElement(q.a,{label:"Evidence for Development",options:nt,className:Ye.a.inputItem,onChange:v,value:f,optionLabelSelector:ot,optionKeySelector:rt}),A.a.createElement(q.a,{className:Ye.a.inputItem,label:"Indicator",disabled:Fe,options:xt,onChange:j,value:E,optionLabelSelector:it,optionKeySelector:ct,groupKeySelector:ut}),Yt&&Yt.abstract&&A.a.createElement("div",{className:Ye.a.abstract},Yt.abstract),-1===E&&A.a.createElement(G.a,{label:"Age range",className:Ye.a.inputItem,options:st,onChange:L,value:w,optionLabelSelector:pt,optionKeySelector:mt}),A.a.createElement(J.a,{label:"Toggle Choropleth/Bubble",className:Ye.a.inputItem,value:Ct,onChange:Mt}),A.a.createElement("div",{className:Ye.a.separator}),A.a.createElement(q.a,{label:"Background Layer",className:Ye.a.inputItem,disabled:We,options:la,onChange:Le,value:Pe,optionKeySelector:Ot,optionLabelSelector:jt})),da&&A.a.createElement("div",{className:Ye.a.legendContainer},A.a.createElement(U.a,{className:Ye.a.legend,title:Ft,minValue:Jt,legend:Ut,unit:Bt}),A.a.createElement(V.a,{className:Ye.a.legend,title:Ht,data:Qt,keySelector:et,valueSelector:tt,radiusSelector:at,legendType:Zt,unit:Wt}),na&&A.a.createElement($.a,{className:Ye.a.legend,rasterLayer:na}),aa&&A.a.createElement(A.a.Fragment,null,"catchment"===Ee&&A.a.createElement(U.a,{title:"Catchment",className:Ye.a.legend,minValue:"",opacity:.6,unit:"hours",legend:(l={},N()(l,"green",4),N()(l,"gold",8),N()(l,"red",12),l)}),"uncovered"===Ee&&A.a.createElement(U.a,{title:"Uncovered",className:Ye.a.legend,minValue:"",opacity:.6,unit:"hours",legend:(r={},N()(r,"red","> 12"),N()(r,"gold","> 8"),N()(r,"green","> 4"),r)}))),A.a.createElement(Y.a,{show:ca,title:Rt,description:null==Yt?void 0:Yt.abstract}))}},l1IR:function(e,t,a){e.exports={stats:"styles_stats_2ZaCTaCeZRoKbsGU7aDWus",heading:"styles_heading_3egfWjcRCcDX89_bg-N_X5",content:"styles_content_34v7Pc35tALxFQmEJbhd5J",footer:"styles_footer_QdPlUVbjkhOXdaMBjNZ2o","stat-output":"styles_stat-output_3fHHsha5SKq9CDWf1MnBBZ",statOutput:"styles_stat-output_3fHHsha5SKq9CDWf1MnBBZ",label:"styles_label_1glb3GwUqM8Y2T5-AJGUi8",value:"styles_value_4iTucTrHwZdk0tpHVZxXL","external-link":"styles_external-link_1AnkZ9-j9VuRO0F9W46FzP",externalLink:"styles_external-link_1AnkZ9-j9VuRO0F9W46FzP",icon:"styles_icon_1__NPJYpicbtpO18k3Qn4B"}},nE78:function(e,t,a){e.exports={"last-updated-container":"styles_last-updated-container_1is3q3Iz9OESdYe-oqhyqb",lastUpdatedContainer:"styles_last-updated-container_1is3q3Iz9OESdYe-oqhyqb",label:"styles_label_12OcTcfkECkuTsOUSX8lVl",date:"styles_date_1J5tF3b5jTNuknoZKPKStj"}},pPhP:function(e,t,a){e.exports={covid19:"styles_covid19_1ru0D9027N_5jIgcPLv01P","map-container":"styles_map-container_Go3N8Rt1Mdl3ZkCb4MGZr",mapContainer:"styles_map-container_Go3N8Rt1Mdl3ZkCb4MGZr","map-style-config-container":"styles_map-style-config-container_1Qm4caUwDNeoX8GK6jfwUW",mapStyleConfigContainer:"styles_map-style-config-container_1Qm4caUwDNeoX8GK6jfwUW",separator:"styles_separator_3dg8Sp81Gp2DS2ddmhCCbr","input-item":"styles_input-item_15b4R3HPOen6H6Br-Zx_f6",inputItem:"styles_input-item_15b4R3HPOen6H6Br-Zx_f6","travel-time-input-container":"styles_travel-time-input-container_2pILZJ3MEj5xLelIWypnLP",travelTimeInputContainer:"styles_travel-time-input-container_2pILZJ3MEj5xLelIWypnLP",hospitals:"styles_hospitals_5iX42H9sRomSWa-2eaKU8",button:"styles_button_1QC14Pf-laesfhB40XHIqz",abstract:"styles_abstract_3Bz4OcKgKjtG441Vz0iH8t",link:"styles_link_qQJT9SDTg3R9nHGu_9q6j","legend-container":"styles_legend-container_37EIJjLNsDmxt4JkwiTgmu",legendContainer:"styles_legend-container_37EIJjLNsDmxt4JkwiTgmu",legend:"styles_legend_3BlCKisck6MwCbLiddrb5y",stats:"styles_stats_1oa8_G_wLEGIY46bFlKH47","print-mode-button":"styles_print-mode-button_2VBVtc1EBtrcC4Yz2fNWXy",printModeButton:"styles_print-mode-button_2VBVtc1EBtrcC4Yz2fNWXy","print-mode":"styles_print-mode_3ONC02s7X8gkghDov6SwrQ",printMode:"styles_print-mode_3ONC02s7X8gkghDov6SwrQ"}},qTMX:function(e,t,a){e.exports={"text-output":"styles_text-output_2_rJHQmlRntdAxp22BQMYh",textOutput:"styles_text-output_2_rJHQmlRntdAxp22BQMYh",label:"styles_label_17-UdOhjBpj5h9nMClRJsn",value:"styles_value_1oHiebVOEyNqCutPrs3jwE","null-value":"styles_null-value_nwuDe7BAnbvEObXc51uQe",nullValue:"styles_null-value_nwuDe7BAnbvEObXc51uQe"}},tzh7:function(e,t,a){e.exports={"list-item":"styles_list-item_2H6RGvVQ0AJnOG1zGFw94R",listItem:"styles_list-item_2H6RGvVQ0AJnOG1zGFw94R",count:"styles_count_1bG0RzkWCh5JdFrkvJNLt_",label:"styles_label_13c_2IaLonmp7Fjd-ulcXu",tooltip:"styles_tooltip_BWW55NeuWy6bPScEB_YzQ",budget:"styles_budget_2WXyi9YeveVaEbiIXWE2bo",content:"styles_content_38m5BlGMhQkxxY4exMJSKn",projects:"styles_projects_2lYgxwLTYUALjMXss7-n3x",sectors:"styles_sectors_1dMnPvWQaSYvhryxFTObs"}}}]);
//# sourceMappingURL=../sourcemaps/js/4.f5fa0cdcdc0028347abe.js.map