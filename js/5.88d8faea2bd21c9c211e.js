(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Tbdv:function(e,t,a){"use strict";a.r(t);var n=a("LYCE"),l=a.n(n),r=a("HnXd"),i=a.n(r),o=a("qjzJ"),c=a.n(o),u=a("RXMP"),s=a.n(u),p=a("fHi0"),b=a.n(p),d=a("OWCx"),m=a.n(d),h=a("+oHS"),f=a.n(h),v=a("04Ix"),y=a.n(v),g=a("xS4f"),M=a.n(g),_=a("Vi3r"),S=a.n(_),j=a("FLGM"),O=a.n(j),E=a("5PDf"),B=a.n(E),T=a("/FZm"),I=a.n(T),C=a("zLi2"),k=a.n(C),L=a("q1tI"),N=a.n(L),w=a("FRrY"),Y=a("hhMa"),P=a("8Gbs"),F=a("1SQ9"),z=a("5hmJ"),K=a("86SW"),U=a("1LC5"),x=a("RYRU"),H=a("2M4T"),J=a("Ah6B"),R=a("z+oB"),V=a("nW0M"),W=a("5T1E"),D=a("SLhE"),G=a("lhOE"),Q=a("o+MX"),X=a.n(Q);var q=function(e,t){var a,n=t?X()(a="".concat(G.a,"/core/fivew-")).call(a,e,"/"):void 0,l=Object(V.a)(n),r=k()(l,2),i=r[0],o=r[1];return[i,Object(L.useMemo)((function(){var e;return o&&t?null==o?void 0:O()(e=o.results).call(e,(function(e){return{id:+e.code,value:e[t]}})):[]}),[o,t])]},A=a("zMSv"),Z=a.n(A);function $(e,t){var a=f()(e);if(m.a){var n=m()(e);t&&(n=B()(n).call(n,(function(t){return b()(e,t).enumerable}))),a.push.apply(a,n)}return a}var ee=[{key:"allocatedBudget",label:"Allocated Budget",unit:"Â£"},{key:"maleBeneficiary",label:"Male Beneficiary",datatype:"integer"},{key:"femaleBeneficiary",label:"Female Beneficiary",datatype:"integer"},{key:"totalBeneficiary",label:"Total Beneficiary",datatype:"integer"}],te=function(e){return e.key},ae=function(e){return e.label},ne=function(e){return e.radius},le=function(e){return e.value},re=function(e){return e.radius},ie=function(e){return e.id},oe=function(e){return e.fullTitle},ce=function(e){return e.category},ue=function(e){return e.id},se=function(e){return e.name};t.default=function(e){var t=e.className,a=Object(L.useContext)(P.a).regionLevel,n=Object(L.useState)(void 0),r=k()(n,2),o=r[0],u=r[1],p=Object(L.useState)("allocatedBudget"),d=k()(p,2),m=d[0],h=d[1],v=Object(L.useState)(void 0),g=k()(v,2),_=g[0],j=g[1],E=Object(L.useState)(!1),T=k()(E,2),C=T[0],Q=T[1],X="".concat(G.a,"/core/indicator-list/"),A=Object(V.a)(X),pe=k()(A,2),be=pe[0],de=pe[1],me=null==de?void 0:de.results,he="".concat(G.a,"/core/map-layer/"),fe=Object(V.a)(he),ve=k()(fe,2),ye=ve[0],ge=ve[1],Me=Object(W.a)(a,o),_e=k()(Me,2),Se=(_e[0],_e[1]),je=q(a,m),Oe=k()(je,2),Ee=(Oe[0],Oe[1]),Be=Object(L.useMemo)((function(){var e,t=null==me?void 0:I()(me).call(me,(function(e){return ie(e)===o})),a=t&&oe(t),n=I()(ee).call(ee,(function(e){return te(e)===m})),l=n&&ae(n),r=B()(e=[l,a]).call(e,w.h).join(" & ");return C?{choroplethMapState:Se,choroplethTitle:a,choroplethInteger:"integer"===(null==t?void 0:t.datatype),choroplethUnit:null==t?void 0:t.unit,bubbleMapState:Ee,bubbleTitle:l,bubbleInteger:"integer"===(null==n?void 0:n.datatype),bubbleUnit:null==n?void 0:n.unit,titleForPrintBar:r}:{choroplethMapState:Ee,choroplethTitle:l,choroplethInteger:"integer"===(null==n?void 0:n.datatype),choroplethUnit:null==n?void 0:n.unit,bubbleMapState:Se,bubbleTitle:a,bubbleInteger:"integer"===(null==t?void 0:t.datatype),bubbleUnit:null==t?void 0:t.unit,titleForPrintBar:r}}),[C,Se,Ee,o,m,me]),Te=Be.choroplethMapState,Ie=Be.choroplethTitle,Ce=Be.choroplethInteger,ke=Be.choroplethUnit,Le=Be.bubbleMapState,Ne=Be.bubbleTitle,we=Be.bubbleInteger,Ye=Be.bubbleUnit,Pe=Be.titleForPrintBar,Fe=Object(L.useMemo)((function(){var e,t=O()(e=B()(Te).call(Te,(function(e){return Object(w.h)(e.value)}))).call(e,(function(e){return e.value})),a=Math.min.apply(Math,S()(t)),n=Math.max.apply(Math,S()(t));return Object(D.b)(G.b,a,n,Ce)}),[Te,Ce]),ze=Fe.paint,Ke=Fe.legend,Ue=Fe.min,xe=Object(L.useMemo)((function(){var e,t,n=O()(e=B()(t=O()(Le).call(Le,(function(e){return e.value}))).call(t,w.h)).call(e,Math.abs),r=M()(Le).call(Le,(function(e){return e.value<0})),o=M()(Le).call(Le,(function(e){return e.value>0})),u="both";r&&!o?u="negative":!r&&o&&(u="positive");var p=Math.min.apply(Math,S()(n)),d=Math.max.apply(Math,S()(n)),m=50;return"district"===a?m=40:"municipality"===a&&(m=30),function(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)s()(a=$(Object(n),!0)).call(a,(function(t){y()(e,t,n[t])}));else if(c.a)i()(e,c()(n));else{var r;s()(r=$(Object(n))).call(r,(function(t){l()(e,t,b()(n,t))}))}}return e}({legendType:u},Object(D.a)(p,d,m,we))}),[Le,we,a]),He=xe.mapPaint,Je=xe.legend,Re=xe.legendType,Ve=Object(L.useMemo)((function(){var e;if(o)return null==de?void 0:I()(e=de.results).call(e,(function(e){return e.id===o}))}),[o,de]),We=Object(L.useMemo)((function(){var e;return null==ge?void 0:B()(e=ge.results).call(e,(function(e){return"raster"===e.type}))}),[ge]),De=Object(L.useMemo)((function(){return null==We?void 0:I()(We).call(We,(function(e){return e.id===_}))}),[We,_]),Ge=Object(L.useState)(!1),Qe=k()(Ge,2),Xe=Qe[0],qe=Qe[1],Ae=Je.length>0||f()(Ke).length>0||De;return N.a.createElement("div",{className:Object(w.b)(Z.a.dashboard,t,Xe&&Z.a.printMode)},N.a.createElement(H.a,{className:Z.a.printModeButton,printMode:Xe,onPrintModeChange:qe}),N.a.createElement(x.a,{className:Z.a.mapContainer,regionLevel:a,choroplethMapState:Te,choroplethMapPaint:ze,bubbleMapState:Le,bubbleMapPaint:He,rasterLayer:De,printMode:Xe}),N.a.createElement("div",{className:Z.a.mapStyleConfigContainer},N.a.createElement(Y.a,{searchHidden:!0}),N.a.createElement("div",{className:Z.a.separator}),N.a.createElement(z.a,{label:"DFID Data",className:Z.a.inputItem,options:ee,onChange:h,value:m,optionLabelSelector:ae,optionKeySelector:te}),N.a.createElement(z.a,{label:"Indicator",className:Z.a.inputItem,disabled:be,options:me,onChange:u,value:o,optionLabelSelector:oe,optionKeySelector:ie,groupKeySelector:ce}),Ve&&Ve.abstract&&N.a.createElement("div",{className:Z.a.abstract},Ve.abstract),N.a.createElement(F.a,{label:"Toggle Choropleth/Bubble",className:Z.a.inputItem,value:C,onChange:Q}),N.a.createElement("div",{className:Z.a.separator}),N.a.createElement(z.a,{label:"Background Layer",className:Z.a.inputItem,disabled:ye,options:We,onChange:j,value:_,optionKeySelector:ue,optionLabelSelector:se})),Ae&&N.a.createElement("div",{className:Z.a.legendContainer},N.a.createElement(K.a,{className:Z.a.legend,title:Ie,minValue:Ue,legend:Ke,unit:ke}),N.a.createElement(U.a,{className:Z.a.legend,title:Ne,data:Je,keySelector:ne,valueSelector:le,radiusSelector:re,legendType:Re,unit:Ye}),De&&N.a.createElement(R.a,{className:Z.a.legend,rasterLayer:De})),N.a.createElement(J.a,{show:Xe,title:Pe,description:null==Ve?void 0:Ve.abstract}))}},zMSv:function(e,t,a){e.exports={dashboard:"styles_dashboard_24cyahJXZ9iUKuW9FJKdro","map-container":"styles_map-container_14kTn-B8UGRrY_yW8Yu4ju",mapContainer:"styles_map-container_14kTn-B8UGRrY_yW8Yu4ju","map-style-config-container":"styles_map-style-config-container_1uZrftFKp_PzkcEGhTVRsd",mapStyleConfigContainer:"styles_map-style-config-container_1uZrftFKp_PzkcEGhTVRsd",separator:"styles_separator_3AqiwYT_vQy4QV8r0GE3Hn",heading:"styles_heading_1nKQ57Vki_Jn5ExapoT3Ux","input-item":"styles_input-item_3wBKsJ_dPR9J0tvHLtN7vw",inputItem:"styles_input-item_3wBKsJ_dPR9J0tvHLtN7vw",abstract:"styles_abstract_2ifAVY6o1Dm_OMcmHDgujM","legend-container":"styles_legend-container_3n1EQnPXzCm4eaz1tY0Bua",legendContainer:"styles_legend-container_3n1EQnPXzCm4eaz1tY0Bua",legend:"styles_legend_2zWp4cMHQ7wgDFU-LR4bYz","print-mode-button":"styles_print-mode-button_3ksTW1Iw5Y_9xOcFHb4pB0",printModeButton:"styles_print-mode-button_3ksTW1Iw5Y_9xOcFHb4pB0","print-mode":"styles_print-mode_1fqyiV6LkKYIjpfalrmI5s",printMode:"styles_print-mode_1fqyiV6LkKYIjpfalrmI5s"}}}]);
//# sourceMappingURL=../sourcemaps/js/5.88d8faea2bd21c9c211e.js.map